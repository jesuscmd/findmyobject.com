
<!-- saved from url=(0047)http://findmyobject.com/templates/mensajes.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></head><body><div class="row tituloSeccion">
	<div class="col-md-12">
		<h1>MENSAJES</h1>
	</div>
</div>
<div class="contendidoInner mensajes">

	<div class="row">
		<div class="col-md-3">
			<h5>Usuarios</h5>

			<div ng-show="loadedUsuarios != true" class="progress progress-striped active">
				<div class="progress-bar" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
				</div>
			</div>
			<div ng-show="loadedUsuarios == true">
				<div class="table-overflow" ng-if="existenConversaciones == true">
					<div ng-if="existenConversaciones == true">
						<table class="table table-striped">
						  <tbody>
						  	<tr ng-repeat="usuario in usuarios">
						  		<td>
						  			<a ng-click="cargarConversacion(usuario.id, usuario.username)">
						  				{{usuario.username}}
						  			</a>
						  		</td>
						  	</tr>
						  </tbody>
						</table>
					</div>
				</div><!-- table-overflow -->
				<div ng-if="existenConversaciones != true">
					<div class="alert alert-warning">
						<span class="glyphicon glyphicon-question-sign"></span> Aún no existen conversaciones
					</div>
				</div>	
			</div>
		</div> <!-- .col-md-3 -->
		<div class="col-md-9">
			<div ng-show="conversacionCargada != true" class="progress progress-striped active">
				<hr>
				<p>Cargando conversación</p>
				<div class="progress-bar" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
				</div>
			</div>
			<div ng-show="conversacionCargada == true">
				<h5>Mensajes directos - {{nombreUsuario}}</h5>
				<div class="chat">
					<table class="table table-striped">
					  <tbody>
					  	<tr ng-repeat="mensaje in conversacion">
					  		<td>
					  			<strong>
						  			<span ng-if="mensaje.id_usuario_remitente == miId">Yo</span>
						  			<span ng-if="mensaje.id_usuario_remitente != miId">{{nombreUsuario}}</span>
					  			</strong>
					  			 {{mensaje.mensaje}}
					  		</td>
					  	</tr>
					  </tbody>
					</table>
				</div>
				<form role="form" name="enviarMensajeForm" class="message-form" ng-submit="enviarMensaje()">
					<div class="form-group" ng-class="{&#39;has-error&#39; : enviarMensajeForm.mensajeBody.$invalid &amp;&amp; !enviarMensajeForm.mensajeBody.$pristine }">
						<textarea class="form-control" rows="3" placeholder="Escribe un nuevo mensaje" name="mensajeBody" ng-model="mensajeBody" ng-minlength="4" required=""></textarea>
					</div><!-- form-group-->
					<button type="submit" class="btn btn-default" ng-disabled="enviarMensajeSubmit == true || enviarMensajeForm.$invalid"><span class="glyphicon glyphicon-envelope"></span> Enviar</button>
				</form>
			</div>
		</div> <!-- .col-md-9 -->
	</div><!-- row -->

</div>
</body></html>